{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/nikit/Downloads/supersoul/frontend/pages/_document.tsx"],"sourcesContent":["import { Html, Head, Main, NextScript } from \"next/document\";\n\nexport default function Document() {\n  return (\n    <Html lang=\"en\">\n      <Head />\n      <body className=\"antialiased\">\n        <Main />\n        <NextScript />\n      </body>\n    </Html>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,qKAAC,yHAAA,CAAA,OAAI;QAAC,MAAK;;0BACT,qKAAC,yHAAA,CAAA,OAAI;;;;;0BACL,qKAAC;gBAAK,WAAU;;kCACd,qKAAC,yHAAA,CAAA,OAAI;;;;;kCACL,qKAAC,yHAAA,CAAA,aAAU;;;;;;;;;;;;;;;;;AAInB"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/nikit/Downloads/supersoul/frontend/context/AuthContext.tsx"],"sourcesContent":["import { createContext, useState, useEffect, ReactNode, useContext } from \"react\";\r\nimport axios, { AxiosError } from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter } from \"next/router\";\r\n\r\n// ✅ Use Axios Instance with Token Interceptor\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:8000\",\r\n  withCredentials: true,\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n  const token = Cookies.get(\"token\");\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport { api };\r\n\r\ninterface User {\r\n  id: string;\r\n  username: string;\r\n  email: string;\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  login: (identifier: string, password: string) => Promise<void>;\r\n  logout: () => void;\r\n}\r\n\r\nexport const AuthContext = createContext<AuthContextType | null>(null);\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const token = Cookies.get(\"token\");\r\n    if (token) {\r\n      api.get(\"/user\") // ✅ Use `api.get()` instead of `axios.get()`\r\n        .then((res) => {\r\n          console.log(\"✅ User Data:\", res.data);\r\n          setUser(res.data);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"❌ Failed to fetch user:\", error.response?.data || error.message);\r\n          Cookies.remove(\"token\");\r\n          setUser(null);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const login = async (identifier: string, password: string) => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"username\", identifier);\r\n      formData.append(\"password\", password);\r\n  \r\n      const res = await api.post(\"/token\", formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n\r\n      const token = res.data.access_token;\r\n      Cookies.set(\"token\", token, { expires: 7 });\r\n\r\n      // ✅ Fetch user immediately after login using `api`\r\n      const userRes = await api.get(\"/user\");\r\n      setUser(userRes.data);\r\n      console.log(\"🔓 Logged in successfully!\", userRes.data);\r\n      router.push(\"/\");\r\n    } catch (error) {\r\n      const axiosError = error as AxiosError;\r\n      console.error(\"❌ Login Error:\", axiosError.response?.data || axiosError.message);\r\n      alert(\"Invalid credentials. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    Cookies.remove(\"token\");\r\n    setUser(null);\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n// Custom hook for easier access to AuthContext\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  }\r\n  return context;\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAEA,8CAA8C;AAC9C,MAAM,MAAM,0GAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC;IAC1B,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;;AAgBO,MAAM,4BAAc,CAAA,GAAA,mGAAA,CAAA,gBAAa,AAAD,EAA0B;AAE1D,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC;QAC1B,IAAI,OAAO;YACT,IAAI,GAAG,CAAC,SAAS,6CAA6C;aAC3D,IAAI,CAAC,CAAC;gBACL,QAAQ,GAAG,CAAC,gBAAgB,IAAI,IAAI;gBACpC,QAAQ,IAAI,IAAI;YAClB,GACC,KAAK,CAAC,CAAC;gBACN,QAAQ,KAAK,CAAC,2BAA2B,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;gBAC9E,wHAAA,CAAA,UAAO,CAAC,MAAM,CAAC;gBACf,QAAQ;YACV;QACJ;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,YAAoB;QACvC,IAAI;YACF,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,YAAY;YAC5B,SAAS,MAAM,CAAC,YAAY;YAE5B,MAAM,MAAM,MAAM,IAAI,IAAI,CAAC,UAAU,UAAU;gBAC7C,SAAS;oBAAE,gBAAgB;gBAAsB;YACnD;YAEA,MAAM,QAAQ,IAAI,IAAI,CAAC,YAAY;YACnC,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC,SAAS,OAAO;gBAAE,SAAS;YAAE;YAEzC,mDAAmD;YACnD,MAAM,UAAU,MAAM,IAAI,GAAG,CAAC;YAC9B,QAAQ,QAAQ,IAAI;YACpB,QAAQ,GAAG,CAAC,8BAA8B,QAAQ,IAAI;YACtD,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,MAAM,aAAa;YACnB,QAAQ,KAAK,CAAC,kBAAkB,WAAW,QAAQ,EAAE,QAAQ,WAAW,OAAO;YAC/E,MAAM;QACR;IACF;IAEA,MAAM,SAAS;QACb,wHAAA,CAAA,UAAO,CAAC,MAAM,CAAC;QACf,QAAQ;QACR,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,qKAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;QAAO;kBAChD;;;;;;AAGP;AAGO,MAAM,UAAU;IACrB,MAAM,UAAU,CAAA,GAAA,mGAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/nikit/Downloads/supersoul/frontend/pages/_app.tsx"],"sourcesContent":["import \"@/styles/globals.css\";\nimport { AuthProvider } from \"../context/AuthContext\";\nimport type { AppProps } from \"next/app\";\n\nexport default function App({ Component, pageProps }: AppProps) {\n  return (\n    <AuthProvider>\n      <Component {...pageProps} />\n    </AuthProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;;;;;;;;AAGe,SAAS,IAAI,EAAE,SAAS,EAAE,SAAS,EAAY;IAC5D,qBACE,qKAAC,gHAAA,CAAA,eAAY;kBACX,cAAA,qKAAC;YAAW,GAAG,SAAS;;;;;;;;;;;AAG9B"}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/nikit/Downloads/supersoul/frontend/pages/meeting/%5Bid%5D.tsx"],"sourcesContent":["import { useRouter } from \"next/router\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useEffect, useContext, useRef, useState } from \"react\";\r\nimport Peer from \"peerjs\";\r\n\r\nconst MeetingPage = () => {\r\n  const auth = useContext(AuthContext);\r\n  const user = auth?.user;\r\n\r\n  const router = useRouter();\r\n  const { id: meetingId } = router.query;\r\n  const [peer, setPeer] = useState<Peer | null>(null);\r\n  const [socket, setSocket] = useState<WebSocket | null>(null);\r\n  const [localStream, setLocalStream] = useState<MediaStream | null>(null);\r\n  const myVideoRef = useRef<HTMLVideoElement>(null);\r\n  const [messages, setMessages] = useState<{ sender: string; message: string }[]>([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!meetingId || !user) return;\r\n\r\n    const websocketURL = process.env.NEXT_PUBLIC_WEBSOCKET_URL || \"ws://localhost:8000\";\r\n    const newSocket = new WebSocket(`${websocketURL}/ws/${meetingId}/${user.username}`);\r\n\r\n    newSocket.onopen = () => {\r\n      console.log(\"✅ WebSocket Connected!\");\r\n    };\r\n\r\n    newSocket.onmessage = (event) => {\r\n      const data = JSON.parse(event.data);\r\n      if (data.type === \"chat-message\") {\r\n        setMessages((prev) => [...prev, { sender: data.sender, message: data.message }]);\r\n      }\r\n    };\r\n\r\n    setSocket(newSocket);\r\n\r\n    return () => {\r\n      newSocket.close();\r\n    };\r\n  }, [meetingId, user]);\r\n\r\n  const sendMessage = () => {\r\n    if (!newMessage || !socket) return;\r\n    socket.send(JSON.stringify({ type: \"chat-message\", sender: user.username, message: newMessage }));\r\n    setNewMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-screen\">\r\n      {/* Video Call Section */}\r\n      <div className=\"flex-1 flex items-center justify-center\">\r\n        <video ref={myVideoRef} autoPlay muted className=\"w-64 h-48 border rounded-lg\" />\r\n      </div>\r\n\r\n      {/* Chat Section */}\r\n      <div className=\"w-1/3 border-l bg-gray-100 p-4\">\r\n        <h2 className=\"text-lg font-bold mb-2\">Live Chat</h2>\r\n        <div className=\"overflow-y-auto h-80 p-2 border bg-white\">\r\n          {messages.map((msg, index) => (\r\n            <div key={index} className={`p-1 my-1 ${msg.sender === user.username ? \"text-right\" : \"text-left\"}`}>\r\n              <span className=\"font-bold\">{msg.sender}: </span>\r\n              {msg.message}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"flex mt-2\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"border p-2 flex-1 rounded-lg\"\r\n            placeholder=\"Type a message...\"\r\n            value={newMessage}\r\n            onChange={(e) => setNewMessage(e.target.value)}\r\n          />\r\n          <button className=\"bg-blue-500 text-white px-4 py-2 ml-2 rounded-lg\" onClick={sendMessage}>\r\n            Send\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MeetingPage;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;AAGA,MAAM,cAAc;IAClB,MAAM,OAAO,CAAA,GAAA,mGAAA,CAAA,aAAU,AAAD,EAAE,gHAAA,CAAA,cAAW;IACnC,MAAM,OAAO,MAAM;IAEnB,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,IAAI,SAAS,EAAE,GAAG,OAAO,KAAK;IACtC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAoB;IACvD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAsB;IACnE,MAAM,aAAa,CAAA,GAAA,mGAAA,CAAA,SAAM,AAAD,EAAoB;IAC5C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAyC,EAAE;IAClF,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,aAAa,CAAC,MAAM;QAEzB,MAAM,eAAe,4EAAyC;QAC9D,MAAM,YAAY,IAAI,UAAU,GAAG,aAAa,IAAI,EAAE,UAAU,CAAC,EAAE,KAAK,QAAQ,EAAE;QAElF,UAAU,MAAM,GAAG;YACjB,QAAQ,GAAG,CAAC;QACd;QAEA,UAAU,SAAS,GAAG,CAAC;YACrB,MAAM,OAAO,KAAK,KAAK,CAAC,MAAM,IAAI;YAClC,IAAI,KAAK,IAAI,KAAK,gBAAgB;gBAChC,YAAY,CAAC,OAAS;2BAAI;wBAAM;4BAAE,QAAQ,KAAK,MAAM;4BAAE,SAAS,KAAK,OAAO;wBAAC;qBAAE;YACjF;QACF;QAEA,UAAU;QAEV,OAAO;YACL,UAAU,KAAK;QACjB;IACF,GAAG;QAAC;QAAW;KAAK;IAEpB,MAAM,cAAc;QAClB,IAAI,CAAC,cAAc,CAAC,QAAQ;QAC5B,OAAO,IAAI,CAAC,KAAK,SAAS,CAAC;YAAE,MAAM;YAAgB,QAAQ,KAAK,QAAQ;YAAE,SAAS;QAAW;QAC9F,cAAc;IAChB;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BAEb,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;oBAAM,KAAK;oBAAY,QAAQ;oBAAC,KAAK;oBAAC,WAAU;;;;;;;;;;;0BAInD,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,qKAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC,KAAK,sBAClB,qKAAC;gCAAgB,WAAW,CAAC,SAAS,EAAE,IAAI,MAAM,KAAK,KAAK,QAAQ,GAAG,eAAe,aAAa;;kDACjG,qKAAC;wCAAK,WAAU;;4CAAa,IAAI,MAAM;4CAAC;;;;;;;oCACvC,IAAI,OAAO;;+BAFJ;;;;;;;;;;kCAMd,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCACC,MAAK;gCACL,WAAU;gCACV,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;0CAE/C,qKAAC;gCAAO,WAAU;gCAAmD,SAAS;0CAAa;;;;;;;;;;;;;;;;;;;;;;;;AAOrG;uCAEe"}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}