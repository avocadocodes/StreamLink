{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/nikit/Downloads/supersoul/frontend/pages/_document.tsx"],"sourcesContent":["import { Html, Head, Main, NextScript } from \"next/document\";\n\nexport default function Document() {\n  return (\n    <Html lang=\"en\">\n      <Head />\n      <body className=\"antialiased\">\n        <Main />\n        <NextScript />\n      </body>\n    </Html>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,qKAAC,yHAAA,CAAA,OAAI;QAAC,MAAK;;0BACT,qKAAC,yHAAA,CAAA,OAAI;;;;;0BACL,qKAAC;gBAAK,WAAU;;kCACd,qKAAC,yHAAA,CAAA,OAAI;;;;;kCACL,qKAAC,yHAAA,CAAA,aAAU;;;;;;;;;;;;;;;;;AAInB"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/nikit/Downloads/supersoul/frontend/pages/_app.tsx"],"sourcesContent":["import \"@/styles/globals.css\";\nimport { AuthProvider } from \"../context/AuthContext\";\nimport type { AppProps } from \"next/app\";\n\nexport default function App({ Component, pageProps }: AppProps) {\n  return <Component {...pageProps} />;\n}\n"],"names":[],"mappings":";;;;;;AAIe,SAAS,IAAI,EAAE,SAAS,EAAE,SAAS,EAAY;IAC5D,qBAAO,qKAAC;QAAW,GAAG,SAAS;;;;;;AACjC"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/nikit/Downloads/supersoul/frontend/context/AuthContext.tsx"],"sourcesContent":["import { createContext, useState, useEffect, ReactNode } from \"react\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter } from \"next/router\";\r\n\r\ninterface AuthContextType {\r\n  user: string | null;\r\n  login: (username: string, password: string) => Promise<void>;\r\n  logout: () => void;\r\n}\r\n\r\nexport const AuthContext = createContext<AuthContextType | null>(null);\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<string | null>(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const token = Cookies.get(\"token\");\r\n    if (token) {\r\n      axios\r\n        .get(\"http://localhost:8000/user\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        })\r\n        .then((res) => setUser(res.data.username))\r\n        .catch(() => {\r\n          Cookies.remove(\"token\");\r\n          setUser(null);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const login = async (username: string, password: string) => {\r\n    const res = await axios.post(\r\n      \"http://localhost:8000/token\",\r\n      new URLSearchParams({ username, password })\r\n    );\r\n    Cookies.set(\"token\", res.data.access_token);\r\n    setUser(username);\r\n    router.push(\"/\"); // ✅ Redirect to home after login\r\n  };\r\n\r\n  const logout = () => {\r\n    Cookies.remove(\"token\");\r\n    setUser(null);\r\n    router.push(\"/login\"); // ✅ Redirect to login after logout\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAQO,MAAM,4BAAc,CAAA,GAAA,mGAAA,CAAA,gBAAa,AAAD,EAA0B;AAE1D,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAiB;IAChD,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC;QAC1B,IAAI,OAAO;YACT,0GAAA,CAAA,UAAK,CACF,GAAG,CAAC,8BAA8B;gBACjC,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C,GACC,IAAI,CAAC,CAAC,MAAQ,QAAQ,IAAI,IAAI,CAAC,QAAQ,GACvC,KAAK,CAAC;gBACL,wHAAA,CAAA,UAAO,CAAC,MAAM,CAAC;gBACf,QAAQ;YACV;QACJ;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,UAAkB;QACrC,MAAM,MAAM,MAAM,0GAAA,CAAA,UAAK,CAAC,IAAI,CAC1B,+BACA,IAAI,gBAAgB;YAAE;YAAU;QAAS;QAE3C,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY;QAC1C,QAAQ;QACR,OAAO,IAAI,CAAC,MAAM,iCAAiC;IACrD;IAEA,MAAM,SAAS;QACb,wHAAA,CAAA,UAAO,CAAC,MAAM,CAAC;QACf,QAAQ;QACR,OAAO,IAAI,CAAC,WAAW,mCAAmC;IAC5D;IAEA,qBACE,qKAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;QAAO;kBAChD;;;;;;AAGP"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/nikit/Downloads/supersoul/frontend/pages/login.tsx"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nconst LoginPage = () => {\r\n  const { login } = useContext(AuthContext);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isRegister, setIsRegister] = useState(false);\r\n\r\n  const handleAuth = async () => {\r\n    const url = isRegister\r\n      ? \"http://localhost:8000/register\"\r\n      : \"http://localhost:8000/token\";\r\n\r\n    const response = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: new URLSearchParams({ username, password }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      alert(\"Authentication failed!\");\r\n      return;\r\n    }\r\n\r\n    if (!isRegister) {\r\n      const data = await response.json();\r\n      document.cookie = `token=${data.access_token}; path=/`;\r\n      window.location.href = \"/\";\r\n    } else {\r\n      alert(\"Registration successful! You can now log in.\");\r\n      setIsRegister(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center h-screen\">\r\n      <h1 className=\"text-2xl font-bold\">{isRegister ? \"Register\" : \"Login\"}</h1>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Username\"\r\n        className=\"border p-2 m-2\"\r\n        value={username}\r\n        onChange={(e) => setUsername(e.target.value)}\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        placeholder=\"Password\"\r\n        className=\"border p-2 m-2\"\r\n        value={password}\r\n        onChange={(e) => setPassword(e.target.value)}\r\n      />\r\n      <button\r\n        className=\"bg-blue-500 text-white px-4 py-2 rounded mt-2\"\r\n        onClick={handleAuth}\r\n      >\r\n        {isRegister ? \"Register\" : \"Login\"}\r\n      </button>\r\n      <p\r\n        className=\"text-sm text-blue-600 cursor-pointer mt-2\"\r\n        onClick={() => setIsRegister(!isRegister)}\r\n      >\r\n        {isRegister ? \"Already have an account? Login\" : \"Don't have an account? Register\"}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;;AAEA,MAAM,YAAY;IAChB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,mGAAA,CAAA,aAAU,AAAD,EAAE,gHAAA,CAAA,cAAW;IACxC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,aAAa;QACjB,MAAM,MAAM,aACR,mCACA;QAEJ,MAAM,WAAW,MAAM,MAAM,KAAK;YAChC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAoC;YAC/D,MAAM,IAAI,gBAAgB;gBAAE;gBAAU;YAAS;QACjD;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM;YACN;QACF;QAEA,IAAI,CAAC,YAAY;YACf,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,SAAS,MAAM,GAAG,CAAC,MAAM,EAAE,KAAK,YAAY,CAAC,QAAQ,CAAC;YACtD,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,OAAO;YACL,MAAM;YACN,cAAc;QAChB;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAG,WAAU;0BAAsB,aAAa,aAAa;;;;;;0BAC9D,qKAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,WAAU;gBACV,OAAO;gBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;0BAE7C,qKAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,WAAU;gBACV,OAAO;gBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;0BAE7C,qKAAC;gBACC,WAAU;gBACV,SAAS;0BAER,aAAa,aAAa;;;;;;0BAE7B,qKAAC;gBACC,WAAU;gBACV,SAAS,IAAM,cAAc,CAAC;0BAE7B,aAAa,mCAAmC;;;;;;;;;;;;AAIzD;uCAEe"}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}